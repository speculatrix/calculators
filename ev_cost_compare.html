<html>
<head>
  <title>EV Cost Compare</title>
</head>
<body>
  <!-- form action="" -->
  <table align="center" border="0">
    <tr>
      <th colspan="1">About Your EV</th>
      <th colspan="1">Compare with ICE</th>
      <th colspan="1">How many miles for...</th>
    </tr>
    <tr>
      <td valign="top">
        <table border="1">
          <tr valign="top">
            <td>Efficiency in mi/kWh</td>
            <td><input type="number" id="ev_eff" size="4" maxlength="4" value="3.5" />
            </td>
          </tr>
          <tr>
            <td>Energy cost in p/kWh</td>
            <td><input type="number" id="kwh_cost" size="4" maxlength="4" value="7.5" />
            </td>
          </tr>
          <tr>
            <td>Cost p/mile</td>
            <td><div id="ev_cost_per_mile"></div></td>
          </tr>
        </table>
      </td>
      <td valign="top">
        <table border="1">
          <tr valign="top">
            <td>Efficiency in mi/gallon</td>
            <td><input type="number" id="ice_eff" size="4" maxlength="4" value="40.0" />
            </td>
          </tr>
          <tr>
            <td>Fuel cost &pound;/litre</td>
            <td><input type="number" id="fuel_per_litre" size="4" maxlength="4" value="1.50" />
          </tr>
          <tr>
            <td>Cost p/mile</td>
            <td><div id="ice_cost_per_mile"></div></td>
          </tr>
        </table>
      </td>
      <td valign="top">
        <table border="1">
          <tr>
            <td>Compare with</td>
            <td><select id="cost_of_item">
                  <option value="0.85">&pound;0.85 - 1st class stamp</option>
                  <option value="3.50">&pound;3.50 - fancy coffee</option>
                </select>
            </td>
          </tr>
          <tr>
            <td>You can drive this many miles in your EV</td>
            <td><div id="ev_distance"></div></td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3" align="center">
        <button id="run">run</button>
      </td>
    </tr>
  </table>
  <!-- /form -->
<hr />
<p>This calculator needs no cookies, doesn't log anything to my webserver as it's entirely javascript based, so there's no GDPR requirement other than you loading the page</p>
<p>(c) 2022 Paul Mansfield, source released under GPL v3</p>

<script>

// Javascript script to convert the string value to float Value
// Function to convert the string to float value
function to_float(b) {
  // javascript programmers hate this one trick
  var floatValue = +(b);
  return floatValue;
}

function calculate_result() {
    var ev_eff         = to_float(document.getElementById('ev_eff').value);
    var kwh_cost       = to_float(document.getElementById('kwh_cost').value);
    var ice_eff        = to_float(document.getElementById('ice_eff').value);
    var cost_of_item   = to_float(document.getElementById('cost_of_item').value);
    var fuel_per_litre = to_float(document.getElementById('fuel_per_litre').value);

    document.getElementById('ev_cost_per_mile').innerHTML = kwh_cost / ev_eff;
    document.getElementById('ice_cost_per_mile').innerHTML = fuel_per_litre * 4.55 * 100.0 / ice_eff ;
    document.getElementById('ev_distance').innerHTML = cost_of_item * ev_eff * 100.0 / kwh_cost;
}

document.getElementById('run').addEventListener('click', calculate_result);
</script>

</body>
</html>
<!--
#vim: tabstop=2 expandtab shiftwidth=2 softtabstop=2
-->
